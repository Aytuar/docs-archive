<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2020"><meta name="DC.rights.owner" content="(C) Copyright 2020"><meta name="DC.type" content="concept"><meta name="description" content="Use the /scheduled_jobs endpoint to gather information about orchestrator jobs scheduled to run."><meta name="prodname" content="pe"><meta name="version" content="2019.7"><meta name="DC.creator" content="Kate Lopresti <kate.lopresti@puppet.com&gt;"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="orchestrator_api_scheduled_jobs_endpoint"><link rel="stylesheet" type="text/css" href="commonltr.css"><title>Puppet orchestrator API: scheduled jobs endpoint</title></head><body><main role="main"><article role="article" aria-labelledby="ariaid-title1"><article class="nested0" aria-labelledby="ariaid-title1" id="orchestrator_api_scheduled_jobs_endpoint">
    <h1 class="title topictitle1" id="ariaid-title1"><span class="ph">Puppet</span> orchestrator API: scheduled
        jobs endpoint</h1>
    
    
    <div class="body conbody"><p class="shortdesc">Use the <code class="ph codeph">/scheduled_jobs</code> endpoint to gather information about
        orchestrator jobs scheduled to run.</p>
        <p class="p"></p>
    </div>
<article class="topic reference nested1" aria-labelledby="ariaid-title2" id="orchestrator_api_get_schedule_jobs">
   <h2 class="title topictitle2" id="ariaid-title2">GET /scheduled_jobs</h2>
   
   
   <div class="body refbody"><p class="shortdesc">List scheduled jobs in ascending order.</p>
      <section class="section"><h3 class="title sectiontitle">Parameters</h3><p class="p">The request accepts the following query parameters:</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead">
                  <tr class="row">
                     <th class="entry" id="orchestrator_api_get_schedule_jobs__entry__1">Parameter </th>
                     <th class="entry" id="orchestrator_api_get_schedule_jobs__entry__2">Definition</th>
                  </tr>
               </thead><tbody class="tbody">
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__1">
                        <code class="ph codeph">limit</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__2">Return only the most recent <em class="ph i">n</em> number of jobs.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__1">
                        <p class="p">
                           <code class="ph codeph">offset</code>
                        </p>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__2">Return results offset <em class="ph i">n</em> records into the result set.</td>
                  </tr>
               </tbody></table><p class="p">For example:</p><div class="p">
            <pre class="pre codeblock"><code>https://orchestrator.example.com:8143/orchestrator/v1/scheduled_jobs?limit=20&amp;offset=20</code></pre>
         </div></section>
      <section class="section"><h3 class="title sectiontitle">Response format</h3><p class="p">The response is a JSON object that contains a list of the known jobs
            and information about the pagination.</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead">
                  <tr class="row">
                     <th class="entry" id="orchestrator_api_get_schedule_jobs__entry__7">Key </th>
                     <th class="entry" id="orchestrator_api_get_schedule_jobs__entry__8">Definition</th>
                  </tr>
               </thead><tbody class="tbody">
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">items</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">Contains an array of all the
                        scheduled jobs.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">id</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">An absolute URL to the given
                        job.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">name</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The ID of the scheduled
                        job</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">type</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The type of scheduled job
                        (currently only <code class="ph codeph">task</code>)</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">task</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The name of the task associated
                        with the scheduled job&nbsp;</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">scope</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The specification of the targets
                        for the task.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">environment</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The environment that the job
                        operates in.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">owner</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The specification for the user
                        that requested the job.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">description</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">A user-provided description of the
                        job. </td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">scheduled_time</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">An ISO8601 specification of when
                        the scheduled job runs.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">noop</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">True if the job runs in
                        no-operation mode, false otherwise.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">pagination</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">Contains the information about the
                        limit, offset and total number of items.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">limit</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">A restricted number of items for
                        the request to return.</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">offset</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">A number offset from the start of
                        the collection (zero based).</td>
                  </tr>
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__7">
                        <code class="ph codeph">total</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__8">The total number of items in the
                        collection, ignoring <code class="ph codeph">limit</code> and <code class="ph codeph">offset</code>.</td>
                  </tr>
               </tbody></table><p class="p">For
         example:</p><pre class="pre codeblock json"><code>{
    "items": [
        {
            "id": "https://orchestrator.example.com:8143/orchestrator/v1/scheduled_jobs/10",
            "name": "10",
            "type": "task",
            "scope": {"nodes": ["foo.example.com", "bar.example.com"]},
            "enviroment": "production",
            "owner": {
                "id": "751a8f7e-b53a-4ccd-9f4f-e93db6aa38ec",
                "login": "fred"
             },
             "description": "front face the nebaclouser",
             "scheduled_time": "2027-05-05T19:50:08.000Z",
             "noop": false,
         },
         {
            "id": "https://orchestrator.example.com:8143/orchestrator/v1/scheduled_jobs/9",
            "name": "9",
            "type": "task",
            "scope": {"nodes": ["east.example.com", "west.example.com"]},
            "enviroment": "production",
            "owner": {
                "id": "751a8f7e-b53a-4ccd-9f4f-e93db6aa38ec",
                "login": "fred"
             },
             "description": "rear face the cranfitouser",
             "scheduled_time": "2027-05-05T19:55:08.000Z",
             "noop": false,
         }
      ],
      "pagination": {
        "limit": 2,
        "offset": 5,
        "total: 15
       }
 }</code></pre></section>
      <section class="section"><h3 class="title sectiontitle">Error responses</h3><p class="p">For this endpoint, the <code class="ph codeph">kind</code> key of the error displays the conflict.</p><table class="table"><caption></caption><colgroup><col><col></colgroup><thead class="thead">
                  <tr class="row">
                     <th class="entry" id="orchestrator_api_get_schedule_jobs__entry__39">Key </th>
                     <th class="entry" id="orchestrator_api_get_schedule_jobs__entry__40">Definition</th>
                  </tr>
               </thead><tbody class="tbody">
                  <tr class="row">
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__39">
                        <code class="ph codeph">puppetlabs.orchestrator/validation-error</code>
                     </td>
                     <td class="entry" headers="orchestrator_api_get_schedule_jobs__entry__40">If the <code class="ph codeph">limit</code> or <code class="ph codeph">offset</code> parameter is not an integer, the server returns a
                           <code class="ph codeph">400</code> response.</td>
                  </tr>
               </tbody></table></section>
   </div>
<nav role="navigation" class="related-links"><div class="linklist relinfo"><strong>Related information</strong><br><ul class="linklist"><li class="linklist"><a class="link" href="orchestrator_api_error_responses.html" title="From time to time, you might encounter an error using the orchestrator API. In such cases, you receive an error response.">Puppet orchestrator API: error responses</a></li></ul></div></nav></article><article class="topic reference nested1" aria-labelledby="ariaid-title3" id="orchestrator_api_delete_schedule_jobs">
  <h2 class="title topictitle2" id="ariaid-title3">DELETE /scheduled_jobs/:job-id</h2>
  
  
  <div class="body refbody"><p class="shortdesc">Delete a scheduled job.</p>
    <section class="section"><ul class="ul">
        <li class="li">
          <p class="p">Response 204</p>
        </li>
        <li class="li">
          <p class="p">Response 403</p>
          <ul class="ul">
            <li class="li">
              <div class="p">Body
                <pre class="pre codeblock"><code>{
  "kind": "puppetlabs.orchestrator/not-permitted",
  "msg": "Not authorized to delete job {id}"
}</code></pre></div>
            </li>
          </ul>
        </li>
      </ul></section>
  </div>
</article></article></article></main></body></html>