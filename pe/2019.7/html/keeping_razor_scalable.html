<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2020"><meta name="DC.rights.owner" content="(C) Copyright 2020"><meta name="DC.type" content="concept"><meta name="description" content="Speed provisioning and reduce load on the Razor server by following these scalability best practices."><meta name="prodname" content="pe"><meta name="version" content="2019.7"><meta name="DC.creator" content="Melissa Amos <melissa.amos@puppet.com&gt;"><meta name="DC.format" content="HTML5"><meta name="DC.identifier" content="keeping_razor_scalable"><link rel="stylesheet" type="text/css" href="commonltr.css"><title>Keeping Razor scalable</title></head><body id="keeping_razor_scalable"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
   <h1 class="title topictitle1" id="ariaid-title1">Keeping <span class="ph">Razor</span> scalable</h1>
   
   
   <div class="body conbody"><p class="shortdesc">Speed provisioning and reduce load on the <span class="ph">Razor</span> server by following these scalability best practices. </p>
      <div class="p">
         <ul class="ul">
            <li class="li">When <a class="xref" href="repositories.html" title="A repository is where you store all of the actual bits used by Razor to install a node. Or, in some cases, the external location of bits that you link to. A repo is identified by a unique name.">creating repos</a>, use <code class="ph codeph">url</code> rather than <code class="ph codeph">iso-url</code>. If you have a mirror hosting installation files, they can be
               distributed straight to the node rather than having the <span class="ph">Razor</span> server distribute the files.</li>
            <li class="li">When <a class="xref" href="policies.html" title="Policies tell Razor what bits to install, where to get the bits, how to configure them, and how the installed node can communicate with Puppet Enterprise.">matching
                  policies</a>, limit the number of tags you use. <ul class="ul">
                  <li class="li">Create tags using the <code class="ph codeph">has_macaddress</code> operator to identify a list of nodes
                     to be assigned the tag, for example, <code class="ph codeph">["has_macaddress", "de:ea:db:ee:f0:00", "de:ea:db:ee:f0:01"]</code>. </li>
                  <li class="li">Set the <code class="ph codeph">policy</code> metadata key on nodes using the <code class="ph codeph">modify-node-metadata</code> command, then create matching
                     tags, for example, <code class="ph codeph">["=", ["metadata",
                        "policy"], "policy1"]</code>. </li>
               </ul></li>
            <li class="li">When <a class="xref" href="hooks.html#hooks" title="Hooks are an optional but useful Razor object. Hooks provide a way to run arbitrary scripts when certain events occur during a node's lifecycle. The behavior and structure of a hook are defined by a hook type.">running
                  hooks</a>, avoid long- and frequent-running scripts, which all run on the same
               thread synchronously. </li>
         </ul>
      </div>
   </div>
</article></main></body></html>